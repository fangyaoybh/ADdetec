# 语音助手监控系统 - 前端项目

## 项目概述

这是一个基于Vue 3和uni-app开发的语音助手监控系统前端项目，主要用于家属和医生查看老年人与语音助手的对话内容，监测认知状态，提供关怀提醒等功能。

## 项目结构

```
src/
├── App.vue                 # 应用根组件
├── main.js                 # 应用入口文件
├── pages.json              # 页面配置文件
├── pages/
│   ├── index/              # 首页（子女角色）
│   ├── dialog-view/        # 对话内容查看页面
│   ├── doctor/             # 医生/机构页面
│   └── auth/               # 登录认证页面
├── static/                 # 静态资源
├── utils/                  # 工具函数目录
│   ├── api.js              # API调用工具
│   ├── api-config.js       # API配置文件
│   ├── router-config.js    # 路由配置
│   ├── helpers.js          # 通用工具函数
│   ├── styles.js           # 样式配置
│   └── store.js            # 状态管理
└── uni.scss                # 全局样式文件
```

## 新增功能

### 1. 对话内容查看页面

位于 `pages/dialog-view/dialog-view.vue`，提供以下功能：
- 今日对话内容展示
- 近一周对话内容展示
- 近期语音摘要分析
- 老年痴呆预测结果展示
- 今日关怀提醒
- 对话详情查看弹窗

### 2. 统一API工具

#### api-config.js
- 集中管理API基础地址和路径
- 提供URL构建、查询参数处理、认证头获取等工具函数
- 支持请求超时配置和错误处理

#### api.js
- 统一的请求处理函数
- 按功能模块划分的API方法（语音、评估、关怀、对话等）
- 完整的错误处理和加载状态管理

### 3. 通用工具函数

#### helpers.js
- 日期时间格式化
- 相对时间计算
- 本地存储封装
- 防抖节流函数
- 评测结果处理工具

### 4. 样式和主题

#### styles.js
- 统一的色彩配置
- 间距、字体大小、圆角等规范
- 通用组件样式预设
- 主题色和渐变配置

### 5. 状态管理

#### store.js
- 用户登录状态管理
- 应用配置管理
- 数据缓存机制
- 全局错误处理

### 6. 路由管理

#### router-config.js
- 页面路径常量定义
- 统一的导航方法
- 页面标题配置

## 使用方法

### 安装依赖

```bash
npm install
```

### 开发环境运行

```bash
# H5端
npm run dev:h5

# 微信小程序端
npm run dev:mp-weixin

# 其他平台参考package.json中的scripts
```

### 构建生产版本

```bash
# H5端
npm run build:h5

# 微信小程序端
npm run build:mp-weixin
```

## API服务启动

项目根目录下的 `start_api_server.bat` 文件可以快速启动后端API服务：

```bash
# Windows系统下直接双击运行，或在命令行中执行
start_api_server.bat
```

## 主要功能模块

### 1. 语音助手监控
- 实时查看老人与语音助手的对话
- 分析对话内容，提取关键词
- 生成语音交流摘要

### 2. 认知状态评估
- 提供HC/MCI/AD三种认知状态预测
- 今日预测和综合预测结果展示
- 评估数据可视化

### 3. 关怀提醒系统
- 基于对话内容的智能提醒
- 健康状态监测和预警
- 家属关怀建议推送

### 4. 角色管理
- 支持子女和医生两种角色
- 不同角色有不同的功能权限
- 角色切换和权限控制

## 技术栈

- Vue 3
- uni-app
- JavaScript
- SCSS
- 响应式API

## 注意事项

1. 确保后端API服务在正确的端口运行（默认9002端口）
2. 登录页面提供了模拟登录功能，实际使用时需要对接后端认证接口
3. 对话数据默认提供了模拟数据，确保API不通时页面仍能正常展示
4. 移动端适配已优化，建议使用真机或模拟器进行测试

## 性能优化

- 数据缓存机制，减少重复请求
- 防抖节流处理，优化用户交互
- 按需加载组件，减少初始加载时间
- 图片懒加载和资源优化

## 安全措施

- Token认证机制
- 接口权限控制
- 数据加密存储
- 防XSS和CSRF攻击

---

*项目开发日期：2025-09-28*